<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_snc_coe.OneStopStreamGroupFilter</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description/>
        <name>OneStopStreamGroupFilter</name>
        <script><![CDATA[var OneStopStreamGroupFilter = Class.create();
OneStopStreamGroupFilter.prototype = {
    initialize: function() {},
	
	/**
     * @desc - displays the sub groups for the selected Stream group in the UI page
	 *returns - array of strings- SysID of group records
	 *@param - sysid of selected Stream group
     */

    getChildGroupsOfSelectedStream: function(streamGroupID) {
        
		var grpIDs = [];
        var grp = new GlideRecord("sys_user_group");
        grp.addQuery("parent", streamGroupID);
        grp.query();
        while (grp.next()) {
            grpIDs.push(grp.getUniqueValue());
        }
        return grpIDs.toString();
    },
	
	/**
     * @desc - update the assignment group in the target record fetched from the UI page
	 *@param - Table name where the target record resides
	 *@param - SysID of the record which needs to be updated
	 *@param - SysID of the assignment group
     */

    setAssignmentGroup: function(tableName, targetRecordID, groupID) {

        var tbl = new GlideRecord(tableName);
        tbl.addQuery("sys_id", targetRecordID);
        tbl.query();
        if (tbl.next()) {
            tbl.setValue("assignment_group", groupID);
            tbl.setWorkflow(false);
            tbl.update();
        }

    },

    type: 'OneStopStreamGroupFilter'
};]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>piyushkumar1@kpmg.com</sys_created_by>
        <sys_created_on>2021-05-20 12:35:05</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>3df37a241bd8f410d1807b46464bcbd7</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>OneStopStreamGroupFilter</sys_name>
        <sys_package display_value="Audit CoE" source="x_snc_coe">60a5ae6b1b7850103fa411fc2d4bcbe5</sys_package>
        <sys_policy>read</sys_policy>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Audit CoE">60a5ae6b1b7850103fa411fc2d4bcbe5</sys_scope>
        <sys_update_name>sys_script_include_3df37a241bd8f410d1807b46464bcbd7</sys_update_name>
        <sys_updated_by>piyushkumar1@kpmg.com</sys_updated_by>
        <sys_updated_on>2021-05-20 13:39:30</sys_updated_on>
    </sys_script_include>
</record_update>
